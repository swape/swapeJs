"use strict";var sjs=function(){function e(e){return e&&"undefined"!=typeof e&&(e.setStyle=function(t,n){if("undefined"!=typeof e.length)for(var r=0;e.length>r;r++)e[r].style[t]=n;else e.style[t]=n;return e}),e}var t={get:function(t,n){var r=t.trim().split(" ").length,o=t.charAt(0),u=null;return u="#"===o&&1===r?document.getElementById(t.replace("#","")):n?document.querySelectorAll(t):document.querySelector(t),u=e(u)},getAll:function(e){return t.get(e,!0)}},n={xhr:function(e,t,n,r){return new Promise(function(o,u){var i=new XMLHttpRequest;if(e=e.toUpperCase(),"POST"!==e){var f=[],l=void 0;if("undefined"!=typeof n&&null!==n){t=t.match(/\?/gim)?t+"&":t+"?";for(l in n)f.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l]));t+=f.join("&")}}if(i.open(e,t),r&&"undefined"!=typeof r){var a="";for(a in r)i.setRequestHeader(a,r[a])}i.onload=function(){200===i.status?o(i.response):u(Error(i.statusText))},i.onerror=function(){u(Error("Network Error"))},"POST"===e?"undefined"!=typeof n&&null!==n&&i.send(JSON.stringify(n)):i.send()})},get:function(e,t,r){return n.xhr("GET",e,t,r)},post:function(e,t,r){return n.xhr("POST",e,t,r)}},r={_routes:[],_currentRoute:"",_defaultView:"",_config:{},add:function(e){return r._routes.push(e),r},init:function(e){return r._config=e,r._getPath(),r._findRouteMatch(),r},_getPath:function(){r._currentRoute=location.pathname},_runController:function(e){r._changeView(e),"undefined"!=typeof e.controller&&e.controller()},_findRouteMatch:function(){for(var e=0;r._routes.length>e;e++){var t=r._routes[e];if(t.path&&t.path===r._currentRoute){r._doTheRoute(t);break}}},_changeView:function(e){if(""===r._defaultView&&(r._defaultView=t.get("sjs-view")),""!==r._defaultView)if(e.view&&""!==e.view){var n=t.get("#"+e.view);n&&(n.innerHTML=e.template)}else r._defaultView.innerHTML=e.template},_doTheRoute:function(e){e.templateUrl&&("undefined"==typeof e.template||e.template&&""===e.template)?n.get(e.templateUrl).then(function(t){e.template=t,r._runController(e)}):r._runController(e)}};return{elm:t,xhr:n,router:r}}();